{"ast":null,"code":"'use client';\n\n// src/use-counter.ts\nimport _slicedToArray from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport { clampValue, countDecimalPlaces, toPrecision } from \"@chakra-ui/number-utils\";\nimport { useCallback, useState } from \"react\";\nfunction useCounter() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var onChange = props.onChange,\n    precisionProp = props.precision,\n    defaultValue = props.defaultValue,\n    valueProp = props.value,\n    _props$step = props.step,\n    stepProp = _props$step === void 0 ? 1 : _props$step,\n    _props$min = props.min,\n    min = _props$min === void 0 ? Number.MIN_SAFE_INTEGER : _props$min,\n    _props$max = props.max,\n    max = _props$max === void 0 ? Number.MAX_SAFE_INTEGER : _props$max,\n    _props$keepWithinRang = props.keepWithinRange,\n    keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang;\n  var onChangeProp = useCallbackRef(onChange);\n  var _useState = useState(function () {\n      var _a;\n      if (defaultValue == null) return \"\";\n      return (_a = cast(defaultValue, stepProp, precisionProp)) != null ? _a : \"\";\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    valueState = _useState2[0],\n    setValue = _useState2[1];\n  var isControlled = typeof valueProp !== \"undefined\";\n  var value = isControlled ? valueProp : valueState;\n  var decimalPlaces = getDecimalPlaces(parse(value), stepProp);\n  var precision = precisionProp != null ? precisionProp : decimalPlaces;\n  var update = useCallback(function (next) {\n    if (next === value) return;\n    if (!isControlled) {\n      setValue(next.toString());\n    }\n    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));\n  }, [onChangeProp, isControlled, value]);\n  var clamp = useCallback(function (value2) {\n    var nextValue = value2;\n    if (keepWithinRange) {\n      nextValue = clampValue(nextValue, min, max);\n    }\n    return toPrecision(nextValue, precision);\n  }, [precision, keepWithinRange, max, min]);\n  var increment = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    var next;\n    if (value === \"\") {\n      next = parse(step);\n    } else {\n      next = parse(value) + step;\n    }\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var decrement = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    var next;\n    if (value === \"\") {\n      next = parse(-step);\n    } else {\n      next = parse(value) - step;\n    }\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var reset = useCallback(function () {\n    var _a;\n    var next;\n    if (defaultValue == null) {\n      next = \"\";\n    } else {\n      next = (_a = cast(defaultValue, stepProp, precisionProp)) != null ? _a : min;\n    }\n    update(next);\n  }, [defaultValue, precisionProp, stepProp, update, min]);\n  var castValue = useCallback(function (value2) {\n    var _a;\n    var nextValue = (_a = cast(value2, stepProp, precision)) != null ? _a : min;\n    update(nextValue);\n  }, [precision, stepProp, update, min]);\n  var valueAsNumber = parse(value);\n  var isOutOfRange = valueAsNumber > max || valueAsNumber < min;\n  var isAtMax = valueAsNumber === max;\n  var isAtMin = valueAsNumber === min;\n  return {\n    isOutOfRange: isOutOfRange,\n    isAtMax: isAtMax,\n    isAtMin: isAtMin,\n    precision: precision,\n    value: value,\n    valueAsNumber: valueAsNumber,\n    update: update,\n    reset: reset,\n    increment: increment,\n    decrement: decrement,\n    clamp: clamp,\n    cast: castValue,\n    setValue: setValue\n  };\n}\nfunction parse(value) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"));\n}\nfunction getDecimalPlaces(value, step) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value));\n}\nfunction cast(value, step, precision) {\n  var parsedValue = parse(value);\n  if (Number.isNaN(parsedValue)) return void 0;\n  var decimalPlaces = getDecimalPlaces(parsedValue, step);\n  return toPrecision(parsedValue, precision != null ? precision : decimalPlaces);\n}\nexport { useCounter };","map":{"version":3,"names":["useCallbackRef","clampValue","countDecimalPlaces","toPrecision","useCallback","useState","useCounter","props","arguments","length","undefined","onChange","precisionProp","precision","defaultValue","valueProp","value","_props$step","step","stepProp","_props$min","min","Number","MIN_SAFE_INTEGER","_props$max","max","MAX_SAFE_INTEGER","_props$keepWithinRang","keepWithinRange","onChangeProp","_useState","_a","cast","_useState2","_slicedToArray","valueState","setValue","isControlled","decimalPlaces","getDecimalPlaces","parse","update","next","toString","clamp","value2","nextValue","increment","decrement","reset","castValue","valueAsNumber","isOutOfRange","isAtMax","isAtMin","parseFloat","replace","Math","parsedValue","isNaN"],"sources":["/Users/eyliu/Desktop/FitBuddy/node_modules/@chakra-ui/counter/src/use-counter.ts"],"sourcesContent":["import { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\"\nimport {\n  clampValue,\n  countDecimalPlaces,\n  toPrecision,\n} from \"@chakra-ui/number-utils\"\nimport { useCallback, useState } from \"react\"\n\nexport interface UseCounterProps {\n  /**\n   * The callback fired when the value changes\n   */\n  onChange?(valueAsString: string, valueAsNumber: number): void\n  /**\n   * The number of decimal points used to round the value\n   */\n  precision?: number\n  /**\n   * The initial value of the counter. Should be less than `max` and greater than `min`\n   */\n  defaultValue?: string | number\n  /**\n   * The value of the counter. Should be less than `max` and greater than `min`\n   */\n  value?: string | number\n  /**\n   * The step used to increment or decrement the value\n   * @default 1\n   */\n  step?: number\n  /**\n   * The minimum value of the counter\n   * @default Number.MIN_SAFE_INTEGER\n   */\n  min?: number\n  /**\n   * The maximum value of the counter\n   * @default Number.MAX_SAFE_INTEGER\n   */\n  max?: number\n  /**\n   * This controls the value update behavior in general.\n   *\n   * - If `true` and you use the stepper or up/down arrow keys,\n   *  the value will not exceed the `max` or go lower than `min`\n   *\n   * - If `false`, the value will be allowed to go out of range.\n   *\n   * @default true\n   */\n  keepWithinRange?: boolean\n}\n\nexport function useCounter(props: UseCounterProps = {}) {\n  const {\n    onChange,\n    precision: precisionProp,\n    defaultValue,\n    value: valueProp,\n    step: stepProp = 1,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER,\n    keepWithinRange = true,\n  } = props\n\n  const onChangeProp = useCallbackRef(onChange)\n\n  const [valueState, setValue] = useState<string | number>(() => {\n    if (defaultValue == null) return \"\"\n    return cast(defaultValue, stepProp, precisionProp) ?? \"\"\n  })\n\n  /**\n   * Because the component that consumes this hook can be controlled or uncontrolled\n   * we'll keep track of that\n   */\n  const isControlled = typeof valueProp !== \"undefined\"\n  const value = isControlled ? valueProp : valueState\n\n  const decimalPlaces = getDecimalPlaces(parse(value), stepProp)\n\n  const precision = precisionProp ?? decimalPlaces\n\n  const update = useCallback(\n    (next: string | number) => {\n      if (next === value) return\n      if (!isControlled) {\n        setValue(next.toString())\n      }\n      onChangeProp?.(next.toString(), parse(next))\n    },\n    [onChangeProp, isControlled, value],\n  )\n\n  // Function to clamp the value and round it to the precision\n  const clamp = useCallback(\n    (value: number) => {\n      let nextValue = value\n\n      if (keepWithinRange) {\n        nextValue = clampValue(nextValue, min, max)\n      }\n\n      return toPrecision(nextValue, precision)\n    },\n    [precision, keepWithinRange, max, min],\n  )\n\n  const increment = useCallback(\n    (step = stepProp) => {\n      let next: string | number\n\n      /**\n       * Let's follow the native browser behavior for\n       * scenarios where the input starts empty (\"\")\n       */\n      if (value === \"\") {\n        /**\n         * If `min` is set, native input, starts at the `min`.\n         * Else, it starts at `step`\n         */\n        next = parse(step)\n      } else {\n        next = parse(value) + step\n      }\n\n      next = clamp(next as number)\n      update(next)\n    },\n    [clamp, stepProp, update, value],\n  )\n\n  const decrement = useCallback(\n    (step = stepProp) => {\n      let next: string | number\n\n      // Same thing here. We'll follow native implementation\n      if (value === \"\") {\n        next = parse(-step)\n      } else {\n        next = parse(value) - step\n      }\n\n      next = clamp(next as number)\n      update(next)\n    },\n    [clamp, stepProp, update, value],\n  )\n\n  const reset = useCallback(() => {\n    let next: string | number\n    if (defaultValue == null) {\n      next = \"\"\n    } else {\n      next = cast(defaultValue, stepProp, precisionProp) ?? min\n    }\n    update(next)\n  }, [defaultValue, precisionProp, stepProp, update, min])\n\n  const castValue = useCallback(\n    (value: string | number) => {\n      const nextValue = cast(value, stepProp, precision) ?? min\n      update(nextValue)\n    },\n    [precision, stepProp, update, min],\n  )\n\n  const valueAsNumber = parse(value)\n\n  /**\n   * Common range checks\n   */\n  const isOutOfRange = valueAsNumber > max || valueAsNumber < min\n  const isAtMax = valueAsNumber === max\n  const isAtMin = valueAsNumber === min\n\n  return {\n    isOutOfRange,\n    isAtMax,\n    isAtMin,\n    precision,\n    value,\n    valueAsNumber,\n    update,\n    reset,\n    increment,\n    decrement,\n    clamp,\n    cast: castValue,\n    setValue,\n  }\n}\n\nexport type UseCounterReturn = ReturnType<typeof useCounter>\n\nfunction parse(value: string | number) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"))\n}\n\nfunction getDecimalPlaces(value: number, step: number) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value))\n}\n\nfunction cast(value: string | number, step: number, precision?: number) {\n  const parsedValue = parse(value)\n  if (Number.isNaN(parsedValue)) return undefined\n  const decimalPlaces = getDecimalPlaces(parsedValue, step)\n  return toPrecision(parsedValue, precision ?? decimalPlaces)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}