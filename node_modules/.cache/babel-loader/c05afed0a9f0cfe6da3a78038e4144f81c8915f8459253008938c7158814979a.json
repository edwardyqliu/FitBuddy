{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { DescendantsManager } from \"./chunk-FT3H4P66.mjs\";\nimport { cast, useSafeLayoutEffect } from \"./chunk-3A5YOZDU.mjs\";\n\n// src/use-descendant.ts\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { useRef, useState } from \"react\";\nfunction useDescendants() {\n  var descendants = useRef(new DescendantsManager());\n  useSafeLayoutEffect(function () {\n    return function () {\n      return descendants.current.destroy();\n    };\n  });\n  return descendants.current;\n}\nvar _createContext = createContext({\n    name: \"DescendantsProvider\",\n    errorMessage: \"useDescendantsContext must be used within DescendantsProvider\"\n  }),\n  _createContext2 = _slicedToArray(_createContext, 2),\n  DescendantsContextProvider = _createContext2[0],\n  useDescendantsContext = _createContext2[1];\nfunction useDescendant(options) {\n  var descendants = useDescendantsContext();\n  var _useState = useState(-1),\n    _useState2 = _slicedToArray(_useState, 2),\n    index = _useState2[0],\n    setIndex = _useState2[1];\n  var ref = useRef(null);\n  useSafeLayoutEffect(function () {\n    return function () {\n      if (!ref.current) return;\n      descendants.unregister(ref.current);\n    };\n  }, []);\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return;\n    var dataIndex = Number(ref.current.dataset[\"index\"]);\n    if (index != dataIndex && !Number.isNaN(dataIndex)) {\n      setIndex(dataIndex);\n    }\n  });\n  var refCallback = options ? cast(descendants.register(options)) : cast(descendants.register);\n  return {\n    descendants: descendants,\n    index: index,\n    enabledIndex: descendants.enabledIndexOf(ref.current),\n    register: mergeRefs(refCallback, ref)\n  };\n}\nfunction createDescendantContext() {\n  var ContextProvider = cast(DescendantsContextProvider);\n  var _useDescendantsContext = function _useDescendantsContext() {\n    return cast(useDescendantsContext());\n  };\n  var _useDescendant = function _useDescendant(options) {\n    return useDescendant(options);\n  };\n  var _useDescendants = function _useDescendants() {\n    return useDescendants();\n  };\n  return [\n  // context provider\n  ContextProvider,\n  // call this when you need to read from context\n  _useDescendantsContext,\n  // descendants state information, to be called and passed to `ContextProvider`\n  _useDescendants,\n  // descendant index information\n  _useDescendant];\n}\nexport { createDescendantContext };","map":{"version":3,"names":["createContext","mergeRefs","useRef","useState","useDescendants","descendants","DescendantsManager","useSafeLayoutEffect","current","destroy","_createContext","name","errorMessage","_createContext2","_slicedToArray","DescendantsContextProvider","useDescendantsContext","useDescendant","options","_useState","_useState2","index","setIndex","ref","unregister","dataIndex","Number","dataset","isNaN","refCallback","cast","register","enabledIndex","enabledIndexOf","createDescendantContext","ContextProvider","_useDescendantsContext","_useDescendant","_useDescendants"],"sources":["/Users/eyliu/Desktop/FitBuddy/node_modules/@chakra-ui/descendant/src/use-descendant.ts"],"sourcesContent":["import { createContext } from \"@chakra-ui/react-context\"\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\"\nimport { useRef, useState } from \"react\"\nimport { DescendantsManager, DescendantOptions } from \"./descendant\"\nimport { useSafeLayoutEffect, cast } from \"./utils\"\n\n/**\n * @internal\n * React hook that initializes the DescendantsManager\n */\nfunction useDescendants<\n  T extends HTMLElement = HTMLElement,\n  K extends Record<string, any> = {},\n>() {\n  const descendants = useRef(new DescendantsManager<T, K>())\n  useSafeLayoutEffect(() => {\n    return () => descendants.current.destroy()\n  })\n  return descendants.current\n}\n\nexport interface UseDescendantsReturn\n  extends ReturnType<typeof useDescendants> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Descendants context to be used in component-land.\n  - Mount the `DescendantsContextProvider` at the root of the component\n  - Call `useDescendantsContext` anywhere you need access to the descendants information\n\n  NB:  I recommend using `createDescendantContext` below\n * -----------------------------------------------------------------------------------------------*/\n\nconst [DescendantsContextProvider, useDescendantsContext] =\n  createContext<UseDescendantsReturn>({\n    name: \"DescendantsProvider\",\n    errorMessage:\n      \"useDescendantsContext must be used within DescendantsProvider\",\n  })\n\n/**\n * @internal\n * This hook provides information a descendant such as:\n * - Its index compared to other descendants\n * - ref callback to register the descendant\n * - Its enabled index compared to other enabled descendants\n */\nfunction useDescendant<\n  T extends HTMLElement = HTMLElement,\n  K extends Record<string, any> = {},\n>(options?: DescendantOptions<K>) {\n  const descendants = useDescendantsContext()\n  const [index, setIndex] = useState(-1)\n  const ref = useRef<T>(null)\n\n  useSafeLayoutEffect(() => {\n    return () => {\n      if (!ref.current) return\n      descendants.unregister(ref.current)\n    }\n  }, [])\n\n  useSafeLayoutEffect(() => {\n    if (!ref.current) return\n    const dataIndex = Number(ref.current.dataset[\"index\"])\n    if (index != dataIndex && !Number.isNaN(dataIndex)) {\n      setIndex(dataIndex)\n    }\n  })\n\n  const refCallback = options\n    ? cast<React.RefCallback<T>>(descendants.register(options))\n    : cast<React.RefCallback<T>>(descendants.register)\n\n  return {\n    descendants,\n    index,\n    enabledIndex: descendants.enabledIndexOf(ref.current),\n    register: mergeRefs(refCallback, ref),\n  }\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Function that provides strongly typed versions of the context provider and hooks above.\n   To be used in component-land\n * -----------------------------------------------------------------------------------------------*/\n\nexport function createDescendantContext<\n  T extends HTMLElement = HTMLElement,\n  K extends Record<string, any> = {},\n>() {\n  type ContextProviderType = React.Provider<DescendantsManager<T, K>>\n  const ContextProvider = cast<ContextProviderType>(DescendantsContextProvider)\n\n  const _useDescendantsContext = () =>\n    cast<DescendantsManager<T, K>>(useDescendantsContext())\n\n  const _useDescendant = (options?: DescendantOptions<K>) =>\n    useDescendant<T, K>(options)\n\n  const _useDescendants = () => useDescendants<T, K>()\n\n  return [\n    // context provider\n    ContextProvider,\n    // call this when you need to read from context\n    _useDescendantsContext,\n    // descendants state information, to be called and passed to `ContextProvider`\n    _useDescendants,\n    // descendant index information\n    _useDescendant,\n  ] as const\n}\n"],"mappings":";;;;;;;AAAA,SAASA,aAAA,QAAqB;AAC9B,SAASC,SAAA,QAAiB;AAC1B,SAASC,MAAA,EAAQC,QAAA,QAAgB;AAQjC,SAASC,eAAA,EAGL;EACF,IAAMC,WAAA,GAAcH,MAAA,CAAO,IAAII,kBAAA,CAAyB,CAAC;EACzDC,mBAAA,CAAoB,YAAM;IACxB,OAAO;MAAA,OAAMF,WAAA,CAAYG,OAAA,CAAQC,OAAA,CAAQ;IAAA;EAC3C,CAAC;EACD,OAAOJ,WAAA,CAAYG,OAAA;AACrB;AAaA,IAAAE,cAAA,GACEV,aAAA,CAAoC;IAClCW,IAAA,EAAM;IACNC,YAAA,EACE;EACJ,CAAC;EAAAC,eAAA,GAAAC,cAAA,CAAAJ,cAAA;EALIK,0BAAA,GAAAF,eAAA;EAA4BG,qBAAqB,GAAAH,eAAA;AAcxD,SAASI,cAGPC,OAAA,EAAgC;EAChC,IAAMb,WAAA,GAAcW,qBAAA,CAAsB;EAC1C,IAAAG,SAAA,GAA0BhB,QAAA,CAAS,EAAE;IAAAiB,UAAA,GAAAN,cAAA,CAAAK,SAAA;IAA9BE,KAAA,GAAAD,UAAA;IAAOE,QAAQ,GAAAF,UAAA;EACtB,IAAMG,GAAA,GAAMrB,MAAA,CAAU,IAAI;EAE1BK,mBAAA,CAAoB,YAAM;IACxB,OAAO,YAAM;MACX,IAAI,CAACgB,GAAA,CAAIf,OAAA,EAAS;MAClBH,WAAA,CAAYmB,UAAA,CAAWD,GAAA,CAAIf,OAAO;IACpC;EACF,GAAG,EAAE;EAELD,mBAAA,CAAoB,YAAM;IACxB,IAAI,CAACgB,GAAA,CAAIf,OAAA,EAAS;IAClB,IAAMiB,SAAA,GAAYC,MAAA,CAAOH,GAAA,CAAIf,OAAA,CAAQmB,OAAA,CAAQ,OAAO,CAAC;IACrD,IAAIN,KAAA,IAASI,SAAA,IAAa,CAACC,MAAA,CAAOE,KAAA,CAAMH,SAAS,GAAG;MAClDH,QAAA,CAASG,SAAS;IACpB;EACF,CAAC;EAED,IAAMI,WAAA,GAAcX,OAAA,GAChBY,IAAA,CAA2BzB,WAAA,CAAY0B,QAAA,CAASb,OAAO,CAAC,IACxDY,IAAA,CAA2BzB,WAAA,CAAY0B,QAAQ;EAEnD,OAAO;IACL1B,WAAA,EAAAA,WAAA;IACAgB,KAAA,EAAAA,KAAA;IACAW,YAAA,EAAc3B,WAAA,CAAY4B,cAAA,CAAeV,GAAA,CAAIf,OAAO;IACpDuB,QAAA,EAAU9B,SAAA,CAAU4B,WAAA,EAAaN,GAAG;EACtC;AACF;AAOO,SAASW,wBAAA,EAGZ;EAEF,IAAMC,eAAA,GAAkBL,IAAA,CAA0Bf,0BAA0B;EAE5E,IAAMqB,sBAAA,GAAyB,SAAzBA,uBAAA;IAAA,OACJN,IAAA,CAA+Bd,qBAAA,CAAsB,CAAC;EAAA;EAExD,IAAMqB,cAAA,GAAiB,SAAjBA,eAAkBnB,OAAA;IAAA,OACtBD,aAAA,CAAoBC,OAAO;EAAA;EAE7B,IAAMoB,eAAA,GAAkB,SAAlBA,gBAAA;IAAA,OAAwBlC,cAAA,CAAqB;EAAA;EAEnD,OAAO;EAAA;EAEL+B,eAAA;EAAA;EAEAC,sBAAA;EAAA;EAEAE,eAAA;EAAA;EAEAD,cAAA,CACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}