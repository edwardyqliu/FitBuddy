{"ast":null,"code":"'use client';\n\n// src/index.ts\nimport _toConsumableArray from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { trackElementSize } from \"@zag-js/element-size\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  var _a, _b;\n  if (!el || !el.parentElement) return;\n  var win = (_b = (_a = el.ownerDocument) == null ? void 0 : _a.defaultView) != null ? _b : window;\n  var observer = new win.MutationObserver(function () {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return function () {\n    observer.disconnect();\n  };\n}\nfunction useSizes(_ref) {\n  var getNodes = _ref.getNodes,\n    _ref$observeMutation = _ref.observeMutation,\n    observeMutation = _ref$observeMutation === void 0 ? true : _ref$observeMutation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    sizes = _useState2[0],\n    setSizes = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    count = _useState4[0],\n    setCount = _useState4[1];\n  useSafeLayoutEffect(function () {\n    var elements = getNodes();\n    var cleanups = elements.map(function (element, index) {\n      return trackElementSize(element, function (size) {\n        setSizes(function (sizes2) {\n          return [].concat(_toConsumableArray(sizes2.slice(0, index)), [size], _toConsumableArray(sizes2.slice(index + 1)));\n        });\n      });\n    });\n    if (observeMutation) {\n      var firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, function () {\n        setCount(function (count2) {\n          return count2 + 1;\n        });\n      }));\n    }\n    return function () {\n      cleanups.forEach(function (cleanup) {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject) {\n  var _useSizes = useSizes({\n      observeMutation: false,\n      getNodes: function getNodes() {\n        var node = isRef(subject) ? subject.current : subject;\n        return [node];\n      }\n    }),\n    _useSizes2 = _slicedToArray(_useSizes, 1),\n    size = _useSizes2[0];\n  return size;\n}\nexport { useSize, useSizes };","map":{"version":3,"names":["trackElementSize","useEffect","useLayoutEffect","useState","useSafeLayoutEffect","Boolean","globalThis","document","trackMutation","el","cb","_a","_b","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect","useSizes","_ref","getNodes","_ref$observeMutation","observeMutation","_useState","_useState2","_slicedToArray","sizes","setSizes","_useState3","_useState4","count","setCount","elements","cleanups","map","element","index","size","sizes2","concat","_toConsumableArray","slice","firstNode","push","count2","forEach","cleanup","isRef","ref","useSize","subject","_useSizes","node","current","_useSizes2"],"sources":["/Users/eyliu/Desktop/FitBuddy/node_modules/@chakra-ui/react-use-size/src/index.ts"],"sourcesContent":["import { trackElementSize, ElementSize } from \"@zag-js/element-size\"\nimport { useEffect, useLayoutEffect, useState } from \"react\"\n\nconst useSafeLayoutEffect = Boolean(globalThis?.document)\n  ? useLayoutEffect\n  : useEffect\n\nfunction trackMutation(el: HTMLElement | null, cb: () => void) {\n  if (!el || !el.parentElement) return\n  const win = el.ownerDocument?.defaultView ?? window\n  const observer = new win.MutationObserver(() => {\n    cb()\n  })\n  observer.observe(el.parentElement, { childList: true })\n  return () => {\n    observer.disconnect()\n  }\n}\n\nexport function useSizes<T extends HTMLElement | null>({\n  getNodes,\n  observeMutation = true,\n}: {\n  getNodes: () => T[]\n  observeMutation?: boolean\n}) {\n  const [sizes, setSizes] = useState<ElementSize[]>([])\n  const [count, setCount] = useState(0)\n\n  useSafeLayoutEffect(() => {\n    const elements = getNodes()\n\n    const cleanups = elements.map((element, index) =>\n      trackElementSize(element, (size) => {\n        setSizes((sizes) => {\n          return [\n            ...sizes.slice(0, index),\n            size,\n            ...sizes.slice(index + 1),\n          ] as ElementSize[]\n        })\n      }),\n    )\n\n    if (observeMutation) {\n      const firstNode = elements[0]\n      cleanups.push(\n        trackMutation(firstNode, () => {\n          setCount((count) => count + 1)\n        }),\n      )\n    }\n\n    return () => {\n      cleanups.forEach((cleanup) => {\n        cleanup?.()\n      })\n    }\n  }, [count])\n\n  return sizes as Array<ElementSize | undefined>\n}\n\nfunction isRef(ref: any): ref is React.RefObject<any> {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref\n}\n\nexport function useSize<T extends HTMLElement | null>(\n  subject: T | React.RefObject<T>,\n) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject\n      return [node]\n    },\n  })\n  return size as ElementSize | undefined\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}