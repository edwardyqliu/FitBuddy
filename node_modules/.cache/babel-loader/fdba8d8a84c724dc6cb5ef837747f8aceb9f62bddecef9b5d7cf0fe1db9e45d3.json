{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/eyliu/Desktop/FitBuddy/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"focusInputOnChange\", \"clampValueOnBlur\", \"keepWithinRange\", \"min\", \"max\", \"step\", \"isReadOnly\", \"isDisabled\", \"isRequired\", \"isInvalid\", \"pattern\", \"inputMode\", \"allowMouseWheel\", \"id\", \"onChange\", \"precision\", \"name\", \"aria-describedby\", \"aria-label\", \"aria-labelledby\", \"onFocus\", \"onBlur\", \"onInvalid\", \"getAriaValueText\", \"isValidCharacter\", \"format\", \"parse\"];\nimport { useAttributeObserver } from \"./chunk-2PMVP26D.mjs\";\nimport { useSpinner } from \"./chunk-366L2ZDN.mjs\";\n\n// src/use-number-input.ts\nimport { useCounter } from \"@chakra-ui/counter\";\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\";\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { ariaAttr, callAllHandlers } from \"@chakra-ui/shared-utils\";\nimport { useCallback, useMemo, useRef, useState } from \"react\";\nvar FLOATING_POINT_REGEX = /^[Ee0-9+\\-.]$/;\nfunction isFloatingPointNumericCharacter(character) {\n  return FLOATING_POINT_REGEX.test(character);\n}\nfunction isValidNumericKeyboardEvent(event, isValid) {\n  if (event.key == null) return true;\n  var isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n  var isSingleCharacterKey = event.key.length === 1;\n  if (!isSingleCharacterKey || isModifierKey) return true;\n  return isValid(event.key);\n}\nfunction useNumberInput() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$focusInputOnCh = props.focusInputOnChange,\n    focusInputOnChange = _props$focusInputOnCh === void 0 ? true : _props$focusInputOnCh,\n    _props$clampValueOnBl = props.clampValueOnBlur,\n    clampValueOnBlur = _props$clampValueOnBl === void 0 ? true : _props$clampValueOnBl,\n    _props$keepWithinRang = props.keepWithinRange,\n    keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang,\n    _props$min = props.min,\n    min = _props$min === void 0 ? Number.MIN_SAFE_INTEGER : _props$min,\n    _props$max = props.max,\n    max = _props$max === void 0 ? Number.MAX_SAFE_INTEGER : _props$max,\n    _props$step = props.step,\n    stepProp = _props$step === void 0 ? 1 : _props$step,\n    isReadOnly = props.isReadOnly,\n    isDisabled = props.isDisabled,\n    isRequired = props.isRequired,\n    isInvalid = props.isInvalid,\n    _props$pattern = props.pattern,\n    pattern = _props$pattern === void 0 ? \"[0-9]*(.[0-9]+)?\" : _props$pattern,\n    _props$inputMode = props.inputMode,\n    inputMode = _props$inputMode === void 0 ? \"decimal\" : _props$inputMode,\n    allowMouseWheel = props.allowMouseWheel,\n    id = props.id,\n    _ = props.onChange,\n    precision = props.precision,\n    name = props.name,\n    ariaDescBy = props[\"aria-describedby\"],\n    ariaLabel = props[\"aria-label\"],\n    ariaLabelledBy = props[\"aria-labelledby\"],\n    onFocusProp = props.onFocus,\n    onBlurProp = props.onBlur,\n    onInvalidProp = props.onInvalid,\n    getAriaValueTextProp = props.getAriaValueText,\n    isValidCharacterProp = props.isValidCharacter,\n    formatValue = props.format,\n    parseValue = props.parse,\n    htmlProps = _objectWithoutProperties(props, _excluded);\n  var onFocus = useCallbackRef(onFocusProp);\n  var onBlur = useCallbackRef(onBlurProp);\n  var onInvalid = useCallbackRef(onInvalidProp);\n  var isValidCharacter = useCallbackRef(isValidCharacterProp != null ? isValidCharacterProp : isFloatingPointNumericCharacter);\n  var getAriaValueText = useCallbackRef(getAriaValueTextProp);\n  var counter = useCounter(props);\n  var updateFn = counter.update,\n    incrementFn = counter.increment,\n    decrementFn = counter.decrement;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFocused = _useState2[0],\n    setFocused = _useState2[1];\n  var isInteractive = !(isReadOnly || isDisabled);\n  var inputRef = useRef(null);\n  var inputSelectionRef = useRef(null);\n  var incrementButtonRef = useRef(null);\n  var decrementButtonRef = useRef(null);\n  var sanitize = useCallback(function (value) {\n    return value.split(\"\").filter(isValidCharacter).join(\"\");\n  }, [isValidCharacter]);\n  var parse = useCallback(function (value) {\n    var _a;\n    return (_a = parseValue == null ? void 0 : parseValue(value)) != null ? _a : value;\n  }, [parseValue]);\n  var format = useCallback(function (value) {\n    var _a;\n    return ((_a = formatValue == null ? void 0 : formatValue(value)) != null ? _a : value).toString();\n  }, [formatValue]);\n  useUpdateEffect(function () {\n    if (counter.valueAsNumber > max) {\n      onInvalid == null ? void 0 : onInvalid(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    } else if (counter.valueAsNumber < min) {\n      onInvalid == null ? void 0 : onInvalid(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    }\n  }, [counter.valueAsNumber, counter.value, format, onInvalid]);\n  useSafeLayoutEffect(function () {\n    if (!inputRef.current) return;\n    var notInSync = inputRef.current.value != counter.value;\n    if (notInSync) {\n      var parsedInput = parse(inputRef.current.value);\n      counter.setValue(sanitize(parsedInput));\n    }\n  }, [parse, sanitize]);\n  var increment = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    if (isInteractive) {\n      incrementFn(step);\n    }\n  }, [incrementFn, isInteractive, stepProp]);\n  var decrement = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    if (isInteractive) {\n      decrementFn(step);\n    }\n  }, [decrementFn, isInteractive, stepProp]);\n  var spinner = useSpinner(increment, decrement);\n  useAttributeObserver(incrementButtonRef, \"disabled\", spinner.stop, spinner.isSpinning);\n  useAttributeObserver(decrementButtonRef, \"disabled\", spinner.stop, spinner.isSpinning);\n  var onChange = useCallback(function (event) {\n    var evt = event.nativeEvent;\n    if (evt.isComposing) return;\n    var parsedInput = parse(event.currentTarget.value);\n    updateFn(sanitize(parsedInput));\n    inputSelectionRef.current = {\n      start: event.currentTarget.selectionStart,\n      end: event.currentTarget.selectionEnd\n    };\n  }, [updateFn, sanitize, parse]);\n  var _onFocus = useCallback(function (event) {\n    var _a, _b, _c;\n    onFocus == null ? void 0 : onFocus(event);\n    if (!inputSelectionRef.current) return;\n    event.target.selectionStart = (_b = inputSelectionRef.current.start) != null ? _b : (_a = event.currentTarget.value) == null ? void 0 : _a.length;\n    event.currentTarget.selectionEnd = (_c = inputSelectionRef.current.end) != null ? _c : event.currentTarget.selectionStart;\n  }, [onFocus]);\n  var onKeyDown = useCallback(function (event) {\n    if (event.nativeEvent.isComposing) return;\n    if (!isValidNumericKeyboardEvent(event, isValidCharacter)) {\n      event.preventDefault();\n    }\n    var stepFactor = getStepFactor(event) * stepProp;\n    var eventKey = event.key;\n    var keyMap = {\n      ArrowUp: function ArrowUp() {\n        return increment(stepFactor);\n      },\n      ArrowDown: function ArrowDown() {\n        return decrement(stepFactor);\n      },\n      Home: function Home() {\n        return updateFn(min);\n      },\n      End: function End() {\n        return updateFn(max);\n      }\n    };\n    var action = keyMap[eventKey];\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [isValidCharacter, stepProp, increment, decrement, updateFn, min, max]);\n  var getStepFactor = function getStepFactor(event) {\n    var ratio = 1;\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1;\n    }\n    if (event.shiftKey) {\n      ratio = 10;\n    }\n    return ratio;\n  };\n  var ariaValueText = useMemo(function () {\n    var text = getAriaValueText == null ? void 0 : getAriaValueText(counter.value);\n    if (text != null) return text;\n    var defaultText = counter.value.toString();\n    return !defaultText ? void 0 : defaultText;\n  }, [counter.value, getAriaValueText]);\n  var validateAndClamp = useCallback(function () {\n    var next = counter.value;\n    if (counter.value === \"\") return;\n    var valueStartsWithE = /^[eE]/.test(counter.value.toString());\n    if (valueStartsWithE) {\n      counter.setValue(\"\");\n    } else {\n      if (counter.valueAsNumber < min) {\n        next = min;\n      }\n      if (counter.valueAsNumber > max) {\n        next = max;\n      }\n      counter.cast(next);\n    }\n  }, [counter, max, min]);\n  var onInputBlur = useCallback(function () {\n    setFocused(false);\n    if (clampValueOnBlur) {\n      validateAndClamp();\n    }\n  }, [clampValueOnBlur, setFocused, validateAndClamp]);\n  var focusInput = useCallback(function () {\n    if (focusInputOnChange) {\n      requestAnimationFrame(function () {\n        var _a;\n        (_a = inputRef.current) == null ? void 0 : _a.focus();\n      });\n    }\n  }, [focusInputOnChange]);\n  var spinUp = useCallback(function (event) {\n    event.preventDefault();\n    spinner.up();\n    focusInput();\n  }, [focusInput, spinner]);\n  var spinDown = useCallback(function (event) {\n    event.preventDefault();\n    spinner.down();\n    focusInput();\n  }, [focusInput, spinner]);\n  useEventListener(function () {\n    return inputRef.current;\n  }, \"wheel\", function (event) {\n    var _a, _b;\n    var doc = (_b = (_a = inputRef.current) == null ? void 0 : _a.ownerDocument) != null ? _b : document;\n    var isInputFocused = doc.activeElement === inputRef.current;\n    if (!allowMouseWheel || !isInputFocused) return;\n    event.preventDefault();\n    var stepFactor = getStepFactor(event) * stepProp;\n    var direction = Math.sign(event.deltaY);\n    if (direction === -1) {\n      increment(stepFactor);\n    } else if (direction === 1) {\n      decrement(stepFactor);\n    }\n  }, {\n    passive: false\n  });\n  var getIncrementButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var disabled = isDisabled || keepWithinRange && counter.isAtMax;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: mergeRefs(ref, incrementButtonRef),\n      role: \"button\",\n      tabIndex: -1,\n      onPointerDown: callAllHandlers(props2.onPointerDown, function (event) {\n        if (event.button !== 0 || disabled) return;\n        spinUp(event);\n      }),\n      onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n      onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n      disabled: disabled,\n      \"aria-disabled\": ariaAttr(disabled)\n    });\n  }, [counter.isAtMax, keepWithinRange, spinUp, spinner.stop, isDisabled]);\n  var getDecrementButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var disabled = isDisabled || keepWithinRange && counter.isAtMin;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: mergeRefs(ref, decrementButtonRef),\n      role: \"button\",\n      tabIndex: -1,\n      onPointerDown: callAllHandlers(props2.onPointerDown, function (event) {\n        if (event.button !== 0 || disabled) return;\n        spinDown(event);\n      }),\n      onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n      onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n      disabled: disabled,\n      \"aria-disabled\": ariaAttr(disabled)\n    });\n  }, [counter.isAtMin, keepWithinRange, spinDown, spinner.stop, isDisabled]);\n  var getInputProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var _a, _b, _c, _d;\n    return _objectSpread(_objectSpread({\n      name: name,\n      inputMode: inputMode,\n      type: \"text\",\n      pattern: pattern,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-label\": ariaLabel,\n      \"aria-describedby\": ariaDescBy,\n      id: id,\n      disabled: isDisabled\n    }, props2), {}, {\n      readOnly: (_a = props2.readOnly) != null ? _a : isReadOnly,\n      \"aria-readonly\": (_b = props2.readOnly) != null ? _b : isReadOnly,\n      \"aria-required\": (_c = props2.required) != null ? _c : isRequired,\n      required: (_d = props2.required) != null ? _d : isRequired,\n      ref: mergeRefs(inputRef, ref),\n      value: format(counter.value),\n      role: \"spinbutton\",\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuenow\": Number.isNaN(counter.valueAsNumber) ? void 0 : counter.valueAsNumber,\n      \"aria-invalid\": ariaAttr(isInvalid != null ? isInvalid : counter.isOutOfRange),\n      \"aria-valuetext\": ariaValueText,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      onChange: callAllHandlers(props2.onChange, onChange),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(props2.onFocus, _onFocus, function () {\n        return setFocused(true);\n      }),\n      onBlur: callAllHandlers(props2.onBlur, onBlur, onInputBlur)\n    });\n  }, [name, inputMode, pattern, ariaLabelledBy, ariaLabel, format, ariaDescBy, id, isDisabled, isRequired, isReadOnly, isInvalid, counter.value, counter.valueAsNumber, counter.isOutOfRange, min, max, ariaValueText, onChange, onKeyDown, _onFocus, onBlur, onInputBlur]);\n  return {\n    value: format(counter.value),\n    valueAsNumber: counter.valueAsNumber,\n    isFocused: isFocused,\n    isDisabled: isDisabled,\n    isReadOnly: isReadOnly,\n    getIncrementButtonProps: getIncrementButtonProps,\n    getDecrementButtonProps: getDecrementButtonProps,\n    getInputProps: getInputProps,\n    htmlProps: htmlProps\n  };\n}\nexport { useNumberInput };","map":{"version":3,"names":["useCounter","useEventListener","useUpdateEffect","useSafeLayoutEffect","useCallbackRef","mergeRefs","ariaAttr","callAllHandlers","useCallback","useMemo","useRef","useState","FLOATING_POINT_REGEX","isFloatingPointNumericCharacter","character","test","isValidNumericKeyboardEvent","event","isValid","key","isModifierKey","ctrlKey","altKey","metaKey","isSingleCharacterKey","length","useNumberInput","props","arguments","undefined","_props$focusInputOnCh","focusInputOnChange","_props$clampValueOnBl","clampValueOnBlur","_props$keepWithinRang","keepWithinRange","_props$min","min","Number","MIN_SAFE_INTEGER","_props$max","max","MAX_SAFE_INTEGER","_props$step","step","stepProp","isReadOnly","isDisabled","isRequired","isInvalid","_props$pattern","pattern","_props$inputMode","inputMode","allowMouseWheel","id","_","onChange","precision","name","ariaDescBy","ariaLabel","ariaLabelledBy","onFocusProp","onFocus","onBlurProp","onBlur","onInvalidProp","onInvalid","getAriaValueTextProp","getAriaValueText","isValidCharacterProp","isValidCharacter","formatValue","format","parseValue","parse","htmlProps","_objectWithoutProperties","_excluded","counter","updateFn","update","incrementFn","increment","decrementFn","decrement","_useState","_useState2","_slicedToArray","isFocused","setFocused","isInteractive","inputRef","inputSelectionRef","incrementButtonRef","decrementButtonRef","sanitize","value","split","filter","join","_a","toString","valueAsNumber","current","notInSync","parsedInput","setValue","spinner","useSpinner","useAttributeObserver","stop","isSpinning","evt","nativeEvent","isComposing","currentTarget","start","selectionStart","end","selectionEnd","_onFocus","_b","_c","target","onKeyDown","preventDefault","stepFactor","getStepFactor","eventKey","keyMap","ArrowUp","ArrowDown","Home","End","action","ratio","shiftKey","ariaValueText","text","defaultText","validateAndClamp","next","valueStartsWithE","cast","onInputBlur","focusInput","requestAnimationFrame","focus","spinUp","up","spinDown","down","doc","ownerDocument","document","isInputFocused","activeElement","direction","Math","sign","deltaY","passive","getIncrementButtonProps","props2","ref","disabled","isAtMax","_objectSpread","role","tabIndex","onPointerDown","button","onPointerLeave","onPointerUp","getDecrementButtonProps","isAtMin","getInputProps","_d","type","readOnly","required","isNaN","isOutOfRange","autoComplete","autoCorrect"],"sources":["/Users/eyliu/Desktop/FitBuddy/node_modules/@chakra-ui/number-input/src/use-number-input.ts"],"sourcesContent":["import { useCounter, UseCounterProps } from \"@chakra-ui/counter\"\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\"\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\"\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\"\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\"\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\"\nimport { ariaAttr, callAllHandlers } from \"@chakra-ui/shared-utils\"\nimport { InputDOMAttributes, PropGetter } from \"@chakra-ui/react-types\"\nimport { useCallback, useMemo, useRef, useState } from \"react\"\nimport { useAttributeObserver } from \"./use-attr-observer\"\nimport { useSpinner } from \"./use-spinner\"\n\nconst FLOATING_POINT_REGEX = /^[Ee0-9+\\-.]$/\n\n/**\n * Determine if a character is a DOM floating point character\n * @see https://www.w3.org/TR/2012/WD-html-markup-20120329/datatypes.html#common.data.float\n */\nfunction isFloatingPointNumericCharacter(character: string) {\n  return FLOATING_POINT_REGEX.test(character)\n}\n\nfunction isValidNumericKeyboardEvent(\n  event: React.KeyboardEvent,\n  isValid: (key: string) => boolean,\n) {\n  if (event.key == null) return true\n  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey\n  const isSingleCharacterKey = event.key.length === 1\n  if (!isSingleCharacterKey || isModifierKey) return true\n  return isValid(event.key)\n}\n\nexport interface UseNumberInputProps extends UseCounterProps {\n  /**\n   * If `true`, the input will be focused as you increment\n   * or decrement the value with the stepper\n   *\n   * @default true\n   */\n  focusInputOnChange?: boolean\n  /**\n   * This controls the value update when you blur out of the input.\n   * - If `true` and the value is greater than `max`, the value will be reset to `max`\n   * - Else, the value remains the same.\n   *\n   * @default true\n   */\n  clampValueOnBlur?: boolean\n  /**\n   * This is used to format the value so that screen readers\n   * can speak out a more human-friendly value.\n   *\n   * It is used to set the `aria-valuetext` property of the input\n   */\n  getAriaValueText?(value: string | number): string\n  /**\n   * If `true`, the input will be in readonly mode\n   */\n  isReadOnly?: boolean\n  /**\n   * If `true`, the input will have `aria-invalid` set to `true`\n   */\n  isInvalid?: boolean\n  /**\n   * Whether the input should be disabled\n   */\n  isDisabled?: boolean\n  /**\n   * Whether the input is required\n   */\n  isRequired?: boolean\n  /**\n   * The `id` to use for the number input field.\n   */\n  id?: string\n  /**\n   * The pattern used to check the <input> element's value against on form submission.\n   *\n   * @default\n   * \"[0-9]*(.[0-9]+)?\"\n   */\n  pattern?: React.InputHTMLAttributes<any>[\"pattern\"]\n  /**\n   * Hints at the type of data that might be entered by the user. It also determines\n   * the type of keyboard shown to the user on mobile devices\n   *\n   * @default\n   * \"decimal\"\n   */\n  inputMode?: React.InputHTMLAttributes<any>[\"inputMode\"]\n  /**\n   * If `true`, the input's value will change based on mouse wheel\n   */\n  allowMouseWheel?: boolean\n  /**\n   * The HTML `name` attribute used for forms\n   */\n  name?: string\n  \"aria-describedby\"?: string\n  \"aria-label\"?: string\n  \"aria-labelledby\"?: string\n  onFocus?: React.FocusEventHandler<HTMLInputElement>\n  onBlur?: React.FocusEventHandler<HTMLInputElement>\n  onInvalid?: (\n    message: ValidityState,\n    value: string,\n    valueAsNumber: number,\n  ) => void\n  /**\n   * Whether the pressed key should be allowed in the input.\n   * The default behavior is to allow DOM floating point characters defined by /^[Ee0-9+\\-.]$/\n   */\n  isValidCharacter?: (value: string) => boolean\n  /**\n   * If using a custom display format, this converts the custom format to a format `parseFloat` understands.\n   */\n  parse?: (value: string) => string\n  /**\n   * If using a custom display format, this converts the default format to the custom format.\n   */\n  format?: (value: string | number) => string | number\n}\n\ntype ValidityState = \"rangeUnderflow\" | \"rangeOverflow\"\ntype InputSelection = { start: number | null; end: number | null }\n\n/**\n * React hook that implements the WAI-ARIA Spin Button widget\n * and used to create numeric input fields.\n *\n * It returns prop getters you can use to build your own\n * custom number inputs.\n *\n * @see WAI-ARIA https://www.w3.org/WAI/ARIA/apg/patterns/spinbutton/\n * @see Docs     https://www.chakra-ui.com/useNumberInput\n * @see WHATWG   https://html.spec.whatwg.org/multipage/input.html#number-state-(type=number)\n */\nexport function useNumberInput(props: UseNumberInputProps = {}) {\n  const {\n    focusInputOnChange = true,\n    clampValueOnBlur = true,\n    keepWithinRange = true,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER,\n    step: stepProp = 1,\n    isReadOnly,\n    isDisabled,\n    isRequired,\n    isInvalid,\n    pattern = \"[0-9]*(.[0-9]+)?\",\n    inputMode = \"decimal\",\n    allowMouseWheel,\n    id,\n    onChange: _,\n    precision,\n    name,\n    \"aria-describedby\": ariaDescBy,\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onInvalid: onInvalidProp,\n    getAriaValueText: getAriaValueTextProp,\n    isValidCharacter: isValidCharacterProp,\n    format: formatValue,\n    parse: parseValue,\n    ...htmlProps\n  } = props\n\n  const onFocus = useCallbackRef(onFocusProp)\n  const onBlur = useCallbackRef(onBlurProp)\n  const onInvalid = useCallbackRef(onInvalidProp)\n  const isValidCharacter = useCallbackRef(\n    isValidCharacterProp ?? isFloatingPointNumericCharacter,\n  )\n  const getAriaValueText = useCallbackRef(getAriaValueTextProp)\n\n  /**\n   * Leverage the `useCounter` hook since it provides\n   * the functionality to `increment`, `decrement` and `update`\n   * counter values\n   */\n  const counter = useCounter(props)\n\n  const {\n    update: updateFn,\n    increment: incrementFn,\n    decrement: decrementFn,\n  } = counter\n\n  /**\n   * Keep track of the focused state of the input,\n   * so user can this to change the styles of the\n   * `spinners`, maybe :)\n   */\n  const [isFocused, setFocused] = useState(false)\n  const isInteractive = !(isReadOnly || isDisabled)\n\n  const inputRef = useRef<HTMLInputElement>(null)\n  const inputSelectionRef = useRef<InputSelection | null>(null)\n  const incrementButtonRef = useRef<HTMLButtonElement>(null)\n  const decrementButtonRef = useRef<HTMLButtonElement>(null)\n\n  const sanitize = useCallback(\n    (value: string) => value.split(\"\").filter(isValidCharacter).join(\"\"),\n    [isValidCharacter],\n  )\n\n  const parse = useCallback(\n    (value: string) => parseValue?.(value) ?? value,\n    [parseValue],\n  )\n\n  const format = useCallback(\n    (value: string | number) => (formatValue?.(value) ?? value).toString(),\n    [formatValue],\n  )\n\n  useUpdateEffect(() => {\n    if (counter.valueAsNumber > max) {\n      onInvalid?.(\"rangeOverflow\", format(counter.value), counter.valueAsNumber)\n    } else if (counter.valueAsNumber < min) {\n      onInvalid?.(\"rangeOverflow\", format(counter.value), counter.valueAsNumber)\n    }\n  }, [counter.valueAsNumber, counter.value, format, onInvalid])\n\n  /**\n   * Sync state with uncontrolled form libraries like `react-hook-form`.\n   */\n  useSafeLayoutEffect(() => {\n    if (!inputRef.current) return\n    const notInSync = inputRef.current.value != counter.value\n    if (notInSync) {\n      const parsedInput = parse(inputRef.current.value)\n      counter.setValue(sanitize(parsedInput))\n    }\n  }, [parse, sanitize])\n\n  const increment = useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        incrementFn(step)\n      }\n    },\n    [incrementFn, isInteractive, stepProp],\n  )\n\n  const decrement = useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        decrementFn(step)\n      }\n    },\n    [decrementFn, isInteractive, stepProp],\n  )\n\n  /**\n   * Leverage the `useSpinner` hook to spin the input's value\n   * when long press on the up and down buttons.\n   *\n   * This leverages `setInterval` internally\n   */\n  const spinner = useSpinner(increment, decrement)\n\n  useAttributeObserver(\n    incrementButtonRef,\n    \"disabled\",\n    spinner.stop,\n    spinner.isSpinning,\n  )\n  useAttributeObserver(\n    decrementButtonRef,\n    \"disabled\",\n    spinner.stop,\n    spinner.isSpinning,\n  )\n\n  /**\n   * The `onChange` handler filters out any character typed\n   * that isn't floating point compatible.\n   */\n  const onChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const evt = event.nativeEvent as InputEvent\n      if (evt.isComposing) return\n      const parsedInput = parse(event.currentTarget.value)\n      updateFn(sanitize(parsedInput))\n      inputSelectionRef.current = {\n        start: event.currentTarget.selectionStart,\n        end: event.currentTarget.selectionEnd,\n      }\n    },\n    [updateFn, sanitize, parse],\n  )\n\n  const _onFocus = useCallback(\n    (event: React.FocusEvent<HTMLInputElement>) => {\n      onFocus?.(event)\n      if (!inputSelectionRef.current) return\n      /**\n       * restore selection if custom format string replacement moved it to the end\n       */\n      event.target.selectionStart =\n        inputSelectionRef.current.start ?? event.currentTarget.value?.length\n      event.currentTarget.selectionEnd =\n        inputSelectionRef.current.end ?? event.currentTarget.selectionStart\n    },\n    [onFocus],\n  )\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.nativeEvent.isComposing) return\n\n      if (!isValidNumericKeyboardEvent(event, isValidCharacter)) {\n        event.preventDefault()\n      }\n\n      /**\n       * Keyboard Accessibility\n       *\n       * We want to increase or decrease the input's value\n       * based on if the user the arrow keys.\n       *\n       * @see https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-17\n       */\n      const stepFactor = getStepFactor(event) * stepProp\n\n      const eventKey = event.key\n\n      const keyMap: Record<string, React.KeyboardEventHandler> = {\n        ArrowUp: () => increment(stepFactor),\n        ArrowDown: () => decrement(stepFactor),\n        Home: () => updateFn(min),\n        End: () => updateFn(max),\n      }\n\n      const action = keyMap[eventKey]\n\n      if (action) {\n        event.preventDefault()\n        action(event)\n      }\n    },\n    [isValidCharacter, stepProp, increment, decrement, updateFn, min, max],\n  )\n\n  const getStepFactor = <\n    Event extends React.KeyboardEvent | React.WheelEvent | WheelEvent,\n  >(\n    event: Event,\n  ) => {\n    let ratio = 1\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1\n    }\n    if (event.shiftKey) {\n      ratio = 10\n    }\n    return ratio\n  }\n\n  /**\n   * If user would like to use a human-readable representation\n   * of the value, rather than the value itself they can pass `getAriaValueText`\n   *\n   * @see https://www.w3.org/TR/wai-aria-practices-1.1/#wai-aria-roles-states-and-properties-18\n   * @see https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext\n   */\n  const ariaValueText = useMemo(() => {\n    const text = getAriaValueText?.(counter.value)\n    if (text != null) return text\n\n    const defaultText = counter.value.toString()\n    // empty string is an invalid ARIA attribute value\n    return !defaultText ? undefined : defaultText\n  }, [counter.value, getAriaValueText])\n\n  /**\n   * Function that clamps the input's value on blur\n   */\n  const validateAndClamp = useCallback(() => {\n    let next = counter.value as string | number\n    if (counter.value === \"\") return\n\n    const valueStartsWithE = /^[eE]/.test(counter.value.toString())\n\n    if (valueStartsWithE) {\n      counter.setValue(\"\")\n    } else {\n      if (counter.valueAsNumber < min) {\n        next = min\n      }\n      if (counter.valueAsNumber > max) {\n        next = max\n      }\n\n      counter.cast(next)\n    }\n  }, [counter, max, min])\n\n  const onInputBlur = useCallback(() => {\n    setFocused(false)\n\n    if (clampValueOnBlur) {\n      validateAndClamp()\n    }\n  }, [clampValueOnBlur, setFocused, validateAndClamp])\n\n  const focusInput = useCallback(() => {\n    if (focusInputOnChange) {\n      requestAnimationFrame(() => {\n        inputRef.current?.focus()\n      })\n    }\n  }, [focusInputOnChange])\n\n  const spinUp = useCallback(\n    (event: React.PointerEvent) => {\n      event.preventDefault()\n      spinner.up()\n      focusInput()\n    },\n    [focusInput, spinner],\n  )\n\n  const spinDown = useCallback(\n    (event: React.PointerEvent) => {\n      event.preventDefault()\n      spinner.down()\n      focusInput()\n    },\n    [focusInput, spinner],\n  )\n\n  useEventListener(\n    () => inputRef.current,\n    \"wheel\",\n    (event: WheelEvent) => {\n      const doc = inputRef.current?.ownerDocument ?? document\n      const isInputFocused = doc.activeElement === inputRef.current\n      if (!allowMouseWheel || !isInputFocused) return\n\n      event.preventDefault()\n\n      const stepFactor = getStepFactor(event) * stepProp\n      const direction = Math.sign(event.deltaY)\n\n      if (direction === -1) {\n        increment(stepFactor)\n      } else if (direction === 1) {\n        decrement(stepFactor)\n      }\n    },\n    { passive: false },\n  )\n\n  const getIncrementButtonProps: PropGetter = useCallback(\n    (props = {}, ref = null) => {\n      const disabled = isDisabled || (keepWithinRange && counter.isAtMax)\n      return {\n        ...props,\n        ref: mergeRefs(ref, incrementButtonRef),\n        role: \"button\",\n        tabIndex: -1,\n        onPointerDown: callAllHandlers(props.onPointerDown, (event) => {\n          if (event.button !== 0 || disabled) return\n          spinUp(event)\n        }),\n        onPointerLeave: callAllHandlers(props.onPointerLeave, spinner.stop),\n        onPointerUp: callAllHandlers(props.onPointerUp, spinner.stop),\n        disabled,\n        \"aria-disabled\": ariaAttr(disabled),\n      }\n    },\n    [counter.isAtMax, keepWithinRange, spinUp, spinner.stop, isDisabled],\n  )\n\n  const getDecrementButtonProps: PropGetter = useCallback(\n    (props = {}, ref = null) => {\n      const disabled = isDisabled || (keepWithinRange && counter.isAtMin)\n      return {\n        ...props,\n        ref: mergeRefs(ref, decrementButtonRef),\n        role: \"button\",\n        tabIndex: -1,\n        onPointerDown: callAllHandlers(props.onPointerDown, (event) => {\n          if (event.button !== 0 || disabled) return\n          spinDown(event)\n        }),\n        onPointerLeave: callAllHandlers(props.onPointerLeave, spinner.stop),\n        onPointerUp: callAllHandlers(props.onPointerUp, spinner.stop),\n        disabled,\n        \"aria-disabled\": ariaAttr(disabled),\n      }\n    },\n    [counter.isAtMin, keepWithinRange, spinDown, spinner.stop, isDisabled],\n  )\n\n  const getInputProps: PropGetter<InputDOMAttributes, InputDOMAttributes> =\n    useCallback(\n      (props = {}, ref = null) => ({\n        name,\n        inputMode,\n        type: \"text\",\n        pattern,\n        \"aria-labelledby\": ariaLabelledBy,\n        \"aria-label\": ariaLabel,\n        \"aria-describedby\": ariaDescBy,\n        id,\n        disabled: isDisabled,\n        ...props,\n        readOnly: props.readOnly ?? isReadOnly,\n        \"aria-readonly\": props.readOnly ?? isReadOnly,\n        \"aria-required\": props.required ?? isRequired,\n        required: props.required ?? isRequired,\n        ref: mergeRefs(inputRef, ref),\n        value: format(counter.value),\n        role: \"spinbutton\",\n        \"aria-valuemin\": min,\n        \"aria-valuemax\": max,\n        \"aria-valuenow\": Number.isNaN(counter.valueAsNumber)\n          ? undefined\n          : counter.valueAsNumber,\n        \"aria-invalid\": ariaAttr(isInvalid ?? counter.isOutOfRange),\n        \"aria-valuetext\": ariaValueText,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        onChange: callAllHandlers(props.onChange, onChange),\n        onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n        onFocus: callAllHandlers(props.onFocus, _onFocus, () =>\n          setFocused(true),\n        ),\n        onBlur: callAllHandlers(props.onBlur, onBlur, onInputBlur),\n      }),\n      [\n        name,\n        inputMode,\n        pattern,\n        ariaLabelledBy,\n        ariaLabel,\n        format,\n        ariaDescBy,\n        id,\n        isDisabled,\n        isRequired,\n        isReadOnly,\n        isInvalid,\n        counter.value,\n        counter.valueAsNumber,\n        counter.isOutOfRange,\n        min,\n        max,\n        ariaValueText,\n        onChange,\n        onKeyDown,\n        _onFocus,\n        onBlur,\n        onInputBlur,\n      ],\n    )\n\n  return {\n    value: format(counter.value),\n    valueAsNumber: counter.valueAsNumber,\n    isFocused,\n    isDisabled,\n    isReadOnly,\n    getIncrementButtonProps,\n    getDecrementButtonProps,\n    getInputProps,\n    htmlProps,\n  }\n}\n\nexport type UseNumberInputReturn = ReturnType<typeof useNumberInput>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}